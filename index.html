<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />
<title>SMATA IPEMYT 357 — José Campellone</title>
<meta name="color-scheme" content="light dark">
<style>
  /* ===== Config base accesible y liviana ===== */
  :root{
    --bg1:#1f3b87; --bg2:#6a3bc9; --bg3:#1fb6d5;
    --text:#0e1a32; --muted:#4b5a78;
    --card:#ffffff; --line:#e8eef7;
    --pri:#2f6df6; --pri-dark:#1e4ed8;
    --ok:#16a34a; --warn:#f59e0b; --danger:#ef4444;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    color:var(--text); background:#f5f8ff;
    background-image: radial-gradient(ellipse at top left, rgba(47,109,246,.18), transparent 45%),
                      radial-gradient(ellipse at bottom right, rgba(106,59,201,.18), transparent 45%);
    -webkit-tap-highlight-color: transparent;
  }
  /* Degradado animado MUY suave sólo si no hay preferencia de reducir movimiento */
  @media (prefers-reduced-motion: no-preference) {
    body{
      background: linear-gradient(-45deg, var(--bg1), var(--bg2), var(--bg3), var(--bg1));
      background-size: 400% 400%;
      animation: bg 36s ease-in-out infinite;
    }
    @keyframes bg{
      0%{background-position:0% 50%} 50%{background-position:100% 50%} 100%{background-position:0% 50%}
    }
  }

  /* Layout */
  header{
    position:sticky; top:0; z-index:10;
    padding:10px 12px; color:#fff;
    background: rgba(10,16,30,.7); backdrop-filter: blur(6px);
  }
  .row{max-width:980px;margin:0 auto;display:flex;gap:8px;align-items:center}
  .grow{flex:1}
  h1{font-size:1.1rem;margin:0 0 2px 0}
  .sub{font-size:.85rem;opacity:.9;margin:0}

  main{max-width:980px;margin:10px auto;padding:0 12px}
  .grid{display:grid;grid-template-columns:1fr;gap:10px}
  @media(min-width:900px){ .grid{grid-template-columns:1.3fr .7fr} }

  /* Tarjetas */
  .card{
    background:var(--card); border:1px solid var(--line); border-radius:14px; padding:12px;
    box-shadow: 0 6px 18px rgba(3, 10, 25, .08);
  }
  h2{font-size:1rem;margin:0 0 8px 0;display:flex;gap:6px;align-items:center}
  p{margin:.35rem 0}

  /* Botones livianos con feedback rápido */
  .btn{
    appearance:none; -webkit-appearance:none;
    border:1px solid #d7e3ff; background:#eef4ff; color:#0b2a6a;
    padding:10px 12px; border-radius:12px; font-weight:700; font-size:.95rem;
    display:inline-flex; align-items:center; gap:6px; cursor:pointer;
    transition: transform .08s ease, background .12s ease, box-shadow .12s ease;
    box-shadow: 0 6px 14px rgba(11,95,196,.12);
    touch-action: manipulation;
  }
  .btn:active{ transform: scale(.97) translateY(1px) }
  .btn.primary{ background:#2f6df6; color:#fff; border-color:transparent }
  .btn.green{ background:#16a34a; color:#fff; border-color:transparent }
  .btn.dark{ background:#0f172a; color:#fff; border-color:#0f172a }

  /* Listas y chips */
  .chips{display:flex;flex-wrap:wrap;gap:6px}
  .chip{border:1px solid var(--line);padding:6px 10px;border-radius:999px;background:#fff;font-weight:600}

  /* Cursos / Materias (acordeón táctil) */
  .course-list{display:flex;flex-wrap:wrap;gap:6px}
  .course{background:#ffffff;border:1px solid var(--line);padding:8px 10px;border-radius:12px;font-weight:800}
  .course-btn{comp:btn}
  .subject-btn{
    background:#fff;border:1px solid var(--line);padding:8px 10px;border-radius:10px;font-weight:700;
    margin:4px; cursor:pointer;
  }
  .subject-btn[aria-pressed="true"]{ background:#2f6df6; color:#fff; border-color:transparent }
  .detail{
    margin:6px 0 0 0; padding:10px; border-left:4px solid #2f6df6; background:#f6f9ff; border-radius:10px;
    font-size:.95rem;
  }

  /* Modal accesible */
  .backdrop{
    position:fixed; inset:0; background:rgba(9,15,28,.55);
    display:none; align-items:center; justify-content:center; z-index:20;
  }
  .backdrop.show{ display:flex }
  .modal{
    width:96vw; max-width:820px; max-height:90vh; overflow:auto;
    background:#fff; border:1px solid var(--line); border-radius:14px; padding:12px;
    box-shadow: 0 20px 50px rgba(0,0,0,.35);
    transform: translateY(8px); opacity:0;
    transition: transform .15s ease, opacity .15s ease;
  }
  .modal.show{ transform: translateY(0); opacity:1 }

  /* Calendario */
  .cal-header{display:flex;align-items:center;justify-content:space-between;gap:8px;margin-bottom:6px}
  .cal-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:6px}
  .dow{font-size:.8rem;font-weight:800;color:#314063;text-align:center}
  .day{
    background:#fff;border:1px solid var(--line);border-radius:10px;padding:6px;min-height:70px;position:relative
  }
  .num{font-weight:900;color:#132a57}
  .tag{display:inline-block;margin-top:4px;padding:3px 6px;border-radius:8px;font-size:.72rem;background:#eef4ff;color:#0b3a8a}
  .tag.school{background:#eafff1;color:#105a2a}
  .evcard{
    position:absolute; left:6px; right:6px; bottom:6px; background:#fff; border:1px solid var(--line); border-radius:10px;
    padding:8px; box-shadow:0 12px 28px rgba(15,30,60,.20); font-size:.92rem;
  }

  /* Inputs */
  input[type="file"]{font-size:.9rem}

  /* Accesibilidad de movimiento */
  @media (prefers-reduced-motion: reduce){
    .btn, .modal{transition:none}
  }
</style>
</head>
<body>

<!-- ===== Header ===== -->
<header role="banner">
  <div class="row">
    <div class="grow">
      <h1>🏫 SMATA IPEMYT 357 — José Campellone</h1>
      <p class="sub">Ingreso Mañana: 07:45–12:50 · Tarde: 13:15–18:45</p>
    </div>
    <div style="display:flex;gap:6px">
      <button class="btn" id="openCalBtn" aria-haspopup="dialog" aria-controls="calModal">📅 Calendario</button>
      <a class="btn dark" href="https://www.google.com/maps/search/?api=1&query=SMATA%20IPEMYT%20357%20Jose%20Campellone" target="_blank" rel="noopener">🗺️ Maps</a>
    </div>
  </div>
</header>

<main>
  <div class="grid">
    <!-- Columna principal -->
    <section class="card" aria-labelledby="misvis">
      <h2 id="misvis">🎯 Misión y 👁️ Visión</h2>
      <p id="mision">Formar estudiantes críticos, responsables y comprometidos con la comunidad y el mundo del trabajo.</p>
      <div style="display:flex;gap:6px;flex-wrap:wrap">
        <button class="btn green" data-say="mision">🔊 Leer misión</button>
        <button class="btn" id="btnVision">👁️ Ver visión</button>
      </div>
      <div id="visionBox" style="display:none;margin-top:6px">
        <p id="vision">Ser una institución reconocida por su excelencia académica y por la formación técnica y humana.</p>
        <button class="btn green" data-say="vision">🔊 Leer visión</button>
      </div>
    </section>

    <aside class="card" aria-labelledby="dir">
      <h2 id="dir">👩‍💼 Equipo directivo</h2>
      <p><strong>Directora:</strong> Alejandra Fontanellas Brito</p>
      <p><strong>Vicedirectora:</strong> Sandra Garlati</p>
    </aside>

    <!-- Reglamento -->
    <section class="card" aria-labelledby="reg">
      <h2 id="reg">📘 Reglamento y valores</h2>
      <ul>
        <li>Respeto a docentes y compañeros.</li>
        <li>Asistencia y puntualidad.</li>
        <li>Uso adecuado del uniforme.</li>
        <li>Cuidado de instalaciones y materiales.</li>
        <li>Sin uso de dispositivos en clase sin permiso.</li>
      </ul>
      <button class="btn" id="regMoreBtn" aria-expanded="false" aria-controls="regMore">➕ Ver más / menos</button>
      <div id="regMore" hidden>
        <p id="regText">
          Valores: responsabilidad, solidaridad, respeto, esfuerzo. Compromiso con el aprendizaje y la convivencia.
        </p>
        <button class="btn green" data-say="regText">🔊 Leer</button>
      </div>
    </section>

    <!-- Cursos y materias -->
    <section class="card" aria-labelledby="cursos">
      <h2 id="cursos">📚 Cursos y materias</h2>
      <div id="courseList" class="course-list" role="tablist" aria-label="Cursos 1A a 6C"></div>
      <div id="subjects"></div>
    </section>

    <!-- Inscripciones -->
    <section class="card" aria-labelledby="insc">
      <h2 id="insc">📝 Inscripciones</h2>
      <p><strong>Estado:</strong> <span id="insStatus">Disponible</span></p>
      <ul>
        <li>Original y fotocopia de DNI del alumno</li>
        <li>Fotocopia del DNI del tutor o padre</li>
        <li>Certificado de estudios previos</li>
        <li>2 fotos carnet</li>
        <li>Formulario de inscripción completo</li>
      </ul>
      <div style="display:flex;gap:6px;flex-wrap:wrap">
        <button class="btn" id="dlRTF">📄 Descargar (Word .rtf)</button>
        <button class="btn primary" id="dlPDF">🖨️ Imprimir / PDF</button>
        <button class="btn" id="toggleIns">🔁 Cambiar estado</button>
      </div>
    </section>

    <!-- Mapa del edificio (opcional) -->
    <section class="card" aria-labelledby="mapa">
      <h2 id="mapa">🗺️ Mapa del edificio</h2>
      <p>Subí la imagen del plano (cuando la tengas):</p>
      <input type="file" id="mapFile" accept="image/*" aria-label="Subir imagen del mapa">
      <div id="mapPreview" style="margin-top:8px;border:1px dashed var(--line);border-radius:12px;min-height:150px;display:flex;align-items:center;justify-content:center;color:var(--muted)">Sin imagen</div>
    </section>
  </div>
</main>

<!-- ===== Modal Calendario ===== -->
<div id="calModal" class="backdrop" role="dialog" aria-modal="true" aria-labelledby="calTitle" aria-hidden="true">
  <div id="calBox" class="modal" role="document">
    <div class="cal-header">
      <h2 id="calTitle">📅 Calendario 2025 — Argentina</h2>
      <div style="display:flex;gap:6px">
        <button class="btn" id="prevM" aria-label="Mes anterior">◀︎</button>
        <div id="monthLabel" class="chip" aria-live="polite"></div>
        <button class="btn" id="nextM" aria-label="Mes siguiente">▶︎</button>
        <button class="btn danger" id="closeCal">✖</button>
      </div>
    </div>
    <div class="cal-grid" id="dow">
      <div class="dow">Dom</div><div class="dow">Lun</div><div class="dow">Mar</div>
      <div class="dow">Mié</div><div class="dow">Jue</div><div class="dow">Vie</div><div class="dow">Sáb</div>
    </div>
    <div class="cal-grid" id="calGrid" aria-live="polite"></div>
    <div style="margin-top:8px;display:flex;gap:6px;flex-wrap:wrap">
      <span class="chip">🇦🇷 Feriado nacional</span>
      <span class="chip">🎉 Evento escolar</span>
      <span class="chip">🌍 Internacional</span>
    </div>
  </div>
</div>

<script>
  /* ===== Utilidades: accesibilidad y rendimiento ===== */
  const $ = s=>document.querySelector(s);
  const $$ = s=>document.querySelectorAll(s);

  // Feedback táctil ligero (sin animaciones pesadas)
  document.addEventListener('click',e=>{
    const b=e.target.closest('.btn'); if(!b) return;
    b.style.filter='brightness(1.05)';
    setTimeout(()=>{ b.style.filter=''; },120);
  },{passive:true});

  /* ===== Lectura en voz alta (toggle) ===== */
  function speakToggle(text){
    if(speechSynthesis.speaking){ speechSynthesis.cancel(); return; }
    const u=new SpeechSynthesisUtterance(text);
    u.rate=1; u.pitch=1;
    speechSynthesis.speak(u);
  }
  document.addEventListener('click',e=>{
    const b=e.target.closest('[data-say]'); if(!b) return;
    const id=b.getAttribute('data-say');
    const el=document.getElementById(id);
    if(el){ speakToggle(el.textContent.trim()); }
  });
  window.addEventListener('beforeunload',()=>{ if(speechSynthesis.speaking) speechSynthesis.cancel(); });

  /* ===== Misión/Visión toggle ===== */
  $('#btnVision').addEventListener('click',()=>{
    const box = $('#visionBox');
    const show = box.style.display!=='block';
    box.style.display = show ? 'block':'none';
  });

  /* ===== Reglamento: ver más/menos ===== */
  const regBtn = $('#regMoreBtn');
  regBtn.addEventListener('click',()=>{
    const more=$('#regMore');
    const open = more.hasAttribute('hidden');
    regBtn.setAttribute('aria-expanded', open);
    if(open) more.removeAttribute('hidden'); else more.setAttribute('hidden','');
  });

  /* ===== Cursos y materias ===== */
  const cursos = ['1A','1B','1C','2A','2B','2C','3A','3B','3C','4A','4B','4C','5A','5B','5C','6A','6B','6C'];
  const materiasPorCurso = {
    '1A':[ {m:'Lengua',d:'Lunes',h:'08:00–09:20',prof:'Prof. Martínez'},
           {m:'Matemática',d:'Martes',h:'09:30–10:50',prof:'Prof. Ríos'},
           {m:'Historia',d:'Miércoles',h:'10:00–11:20',prof:'Prof. Suárez'},
           {m:'Formación Ética',d:'Jueves',h:'08:00–09:20',prof:'Prof. Gómez'} ],
    '1B':[ {m:'Lengua',d:'Lunes',h:'09:00–10:20',prof:'Prof. Díaz'},
           {m:'Matemática',d:'Martes',h:'10:30–11:50',prof:'Prof. López'},
           {m:'Ciencias Sociales',d:'Miércoles',h:'11:00–12:20',prof:'Prof. Varela'},
           {m:'Inglés',d:'Jueves',h:'09:00–10:20',prof:'Prof. Castillo'} ]
  };
  function plantilla(c){
    return [
      {m:'Lengua',d:'Lunes',h:'08:00–09:20',prof:`Prof. ${c} González`},
      {m:'Matemática',d:'Martes',h:'09:30–10:50',prof:`Prof. ${c} Pereira`},
      {m:'Historia',d:'Miércoles',h:'10:00–11:20',prof:`Prof. ${c} Romero`},
      {m:'Física',d:'Jueves',h:'11:00–12:20',prof:`Prof. ${c} Navarro`}
    ];
  }
  cursos.forEach(c=>{ if(!materiasPorCurso[c]) materiasPorCurso[c]=plantilla(c); });

  const courseList = $('#courseList');
  cursos.forEach(c=>{
    const b=document.createElement('button');
    b.className='btn'; b.textContent=c; b.setAttribute('role','tab'); b.setAttribute('aria-controls','subjects');
    b.addEventListener('click',()=>toggleCourse(c));
    courseList.appendChild(b);
  });

  let cursoActivo=null;
  function toggleCourse(curso){
    const box=$('#subjects');
    if(cursoActivo===curso){ box.innerHTML=''; cursoActivo=null; return; }
    cursoActivo=curso; box.innerHTML='';
    const h=document.createElement('h3'); h.textContent=`Materias de ${curso}`; h.style.margin='4px 0';
    box.appendChild(h);

    const cont=document.createElement('div');
    materiasPorCurso[curso].forEach(it=>{
      const sb=document.createElement('button');
      sb.className='subject-btn'; sb.textContent=it.m; sb.setAttribute('aria-pressed','false');
      sb.addEventListener('click',()=>{
        const active = sb.getAttribute('aria-pressed')==='true';
        sb.setAttribute('aria-pressed', String(!active));
        toggleDetail(curso,it);
      });
      cont.appendChild(sb);
    });
    box.appendChild(cont);
  }

  function toggleDetail(curso, it){
    const id = `d-${curso}-${it.m.replace(/\s+/g,'')}`;
    let det = document.getElementById(id);
    if(det){ det.style.display = (det.style.display==='none') ? 'block' : 'none'; return; }
    det = document.createElement('div');
    det.id=id; det.className='detail';
    det.innerHTML = `<strong>${it.m}</strong> — ${it.d} · ${it.h}<br><small>Profesor/a: ${it.prof}</small>`;
    $('#subjects').appendChild(det);
  }

  /* ===== Inscripciones ===== */
  $('#toggleIns').addEventListener('click',()=>{
    const el=$('#insStatus'); el.textContent = (el.textContent==='Disponible') ? 'No disponible' : 'Disponible';
  });
  $('#dlRTF').addEventListener('click',()=>{
    const status=$('#insStatus').textContent;
    const rtf="{\\rtf1\\ansi\\deff0{\\fonttbl{\\f0\\fswiss Helvetica;}}\\f0\\fs20\\b Requisitos para Inscripción\\b0\\par" +
      "- DNI alumno (original y copia)\\par- DNI tutor/padre (copia)\\par- Certificado de estudios previos\\par- 2 fotos carnet\\par- Formulario completo\\par\\par" +
      "Estado: " + status + "\\par}";
    const blob=new Blob([rtf],{type:'application/rtf'});
    const a=document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='Inscripcion_SMATA_357.rtf'; a.click();
    setTimeout(()=>URL.revokeObjectURL(a.href),2000);
  });
  $('#dlPDF').addEventListener('click',()=>{
    const status=$('#insStatus').textContent;
    const html=`<html><head><title>Inscripción</title><meta charset="utf-8">
      <style>body{font-family:Arial,Helvetica,sans-serif;margin:20px} h2{margin:0 0 8px} li{margin:6px 0}</style></head>
      <body><h2>Requisitos para Inscripción</h2>
      <ul><li>DNI alumno (original y copia)</li><li>DNI tutor/padre (copia)</li><li>Certificado de estudios previos</li><li>2 fotos carnet</li><li>Formulario completo</li></ul>
      <p><strong>Estado:</strong> ${status}</p></body></html>`;
    const w=window.open('','_blank'); w.document.write(html); w.document.close(); setTimeout(()=>{ w.print(); },400);
  });

  /* ===== Mapa del edificio (preview) ===== */
  $('#mapFile').addEventListener('change',ev=>{
    const f=ev.target.files?.[0]; if(!f) return;
    const r=new FileReader();
    r.onload = e=>{
      $('#mapPreview').innerHTML = `<img src="${e.target.result}" alt="Mapa del edificio" style="max-width:100%;max-height:260px;border-radius:12px">`;
    };
    r.readAsDataURL(f);
  });

  /* ===== Calendario 2025 (AR + escolar + internacional) ===== */
  const feriados = {
    '2025-01-01': ['🇦🇷 Año Nuevo','Primer día del año.'],
    '2025-03-03': ['🇦🇷 Carnaval (Lunes)','Fiesta previa a la Cuaresma.'],
    '2025-03-04': ['🇦🇷 Carnaval (Martes)','Segunda jornada.'],
    '2025-03-24': ['🇦🇷 Día de la Memoria','Homenaje a las víctimas de la dictadura.'],
    '2025-04-02': ['🇦🇷 Malvinas','Homenaje a Veteranos y Caídos.'],
    '2025-04-18': ['🇦🇷 Viernes Santo','Conmemoración cristiana.'],
    '2025-05-01': ['🇦🇷 Día del Trabajador','Reconocimiento a los trabajadores.'],
    '2025-05-25': ['🇦🇷 Revolución de Mayo','Hechos del 25 de mayo de 1810.'],
    '2025-06-17': ['🇦🇷 Güemes','Héroe de la independencia.'],
    '2025-06-20': ['🇦🇷 Belgrano / Día de la Bandera','Creador de la bandera.'],
    '2025-07-09': ['🇦🇷 Independencia','Declaración de 1816.'],
    '2025-08-17': ['🇦🇷 San Martín','Libertador de América.'],
    '2025-10-12': ['🇦🇷 Diversidad Cultural','Reflexión y respeto.'],
    '2025-11-20': ['🇦🇷 Soberanía Nacional','Vuelta de Obligado (1845).'],
    '2025-12-08': ['🇦🇷 Inmaculada Concepción','Festividad religiosa.'],
    '2025-12-25': ['🇦🇷 Navidad','Celebración navideña.']
  };
  const escolar = {
    '2025-03-10': ['🎉 Inicio de clases (ref.)','Ajustar según calendario de Córdoba.'],
    '2025-06-11': ['🎉 Acto Día de la Bandera','Promesa a la bandera.'],
    '2025-09-11': ['🎉 Día del Maestro','Homenaje a Sarmiento.'],
    '2025-09-21': ['🎉 Día del Estudiante','Actividades por primavera.'],
    '2025-11-20': ['🎉 Muestra de Proyectos (6º)','Exposición de proyectos.'],
    '2025-12-12': ['🎉 Fin de clases (ref.)','Ajustar fecha exacta.']
  };
  const internacional = {
    '2025-03-08': ['🌍 Día Internacional de la Mujer','Reconocimiento a los derechos de las mujeres.'],
    '2025-04-22': ['🌍 Día de la Tierra','Conciencia ambiental.'],
    '2025-10-05': ['🌍 Día Mundial de los Docentes','Reconocimiento a la labor docente.']
  };

  const calBtn = $('#openCalBtn');
  const modal = $('#calModal');
  const calBox = $('#calBox');
  const calGrid = $('#calGrid');
  const monthLabel = $('#monthLabel');
  let cur = new Date(2025,0,1);
  let openKey = null;

  function openCal(){ modal.classList.add('show'); calBox.classList.add('show'); renderCal(); modal.setAttribute('aria-hidden','false'); }
  function closeCal(){ modal.classList.remove('show'); calBox.classList.remove('show'); modal.setAttribute('aria-hidden','true'); openKey=null; }
  function prevM(){ cur.setMonth(cur.getMonth()-1); renderCal(); }
  function nextM(){ cur.setMonth(cur.getMonth()+1); renderCal(); }

  calBtn.addEventListener('click', openCal);
  $('#closeCal').addEventListener('click', closeCal);
  $('#prevM').addEventListener('click', prevM);
  $('#nextM').addEventListener('click', nextM);
  modal.addEventListener('click',e=>{ if(e.target===modal) closeCal(); });

  function renderCal(){
    calGrid.innerHTML='';
    const y=cur.getFullYear(), m=cur.getMonth();
    monthLabel.textContent = cur.toLocaleString('es-AR',{month:'long',year:'numeric'});
    const first = new Date(y,m,1);
    const start = first.getDay(); // 0=Dom
    const days = new Date(y,m+1,0).getDate();

    // huecos
    for(let i=0;i<start;i++) calGrid.appendChild(document.createElement('div'));

    for(let d=1; d<=days; d++){
      const key = `${y}-${String(m+1).padStart(2,'0')}-${String(d).padStart(2,'0')}`;
      const cell = document.createElement('div'); cell.className='day';
      const num = document.createElement('div'); num.className='num'; num.textContent=d; cell.appendChild(num);

      const evs=[];
      if(feriados[key]) evs.push({t:feriados[key][0],desc:feriados[key][1],kind:'ar'});
      if(escolar[key]) evs.push({t:escolar[key][0],desc:escolar[key][1],kind:'school'});
      if(internacional[key]) evs.push({t:internacional[key][0],desc:internacional[key][1],kind:'int'});

      if(evs.length){
        evs.forEach(e=>{
          const tag=document.createElement('div'); tag.className='tag'; if(e.kind==='school') tag.classList.add('school');
          tag.textContent=e.t; cell.appendChild(tag);
        });
        cell.style.cursor='pointer';
        cell.addEventListener('click',()=>toggleEvCard(cell,key,evs),{passive:true});
      }
      calGrid.appendChild(cell);
    }
  }

  function toggleEvCard(cell,key,evs){
    if(openKey===key){ const open=cell.querySelector('.evcard'); if(open){open.remove(); openKey=null;} return; }
    document.querySelectorAll('.evcard').forEach(n=>n.remove());
    const card=document.createElement('div'); card.className='evcard';
    card.innerHTML = evs.map(e=>`<div style="margin-bottom:6px"><strong>${e.t}</strong><br><span style="color:var(--muted)">${e.desc}</span></div>`).join('');
    card.addEventListener('click',e=>e.stopPropagation());
    cell.appendChild(card); openKey=key;
  }

  // Accesos
  window.addEventListener('keydown',e=>{
    if(e.key==='Escape' && modal.classList.contains('show')) closeCal();
  });

</script>
</body>
</html>
